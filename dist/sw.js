const staticCacheName="mws-static-v1",contentImgsCache="mws-content-imgs";var allCaches=[staticCacheName,contentImgsCache];function serveRestuarantPage(e,t){var n=e.url.replace(/\?id=\d/,"");return servePage(e,n)}function servePage(e,t){return caches.open(staticCacheName).then(function(n){return n.match(t).then(function(s){var i=fetch(e).then(function(e){return n.put(t,e.clone()),e});return s||i})})}function servePhoto(e){var t=e.url.replace(/-\dx/,"");return caches.open(contentImgsCache).then(function(n){return n.match(t).then(function(s){return s||fetch(e).then(function(e){return n.put(t,e.clone()),e})})})}self.addEventListener("install",function(e){e.waitUntil(caches.open(staticCacheName).then(function(e){e.addAll(["./index.html","./restaurant.html","./css/styles.css","./js/main.js","./js/restaurant_info.js","./js/private.js","./idb.js","./js/dbhelper.js","./favicon.ico","./manifest.json","https://fonts.googleapis.com/css?family=Roboto:300,400,500,700","https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css"])}),caches.open(contentImgsCache).then(function(e){e.addAll(["./imgs/1.jpg","./imgs/2.jpg","./imgs/3.jpg","./imgs/4.jpg","./imgs/5.jpg","./imgs/6.jpg","./imgs/7.jpg","./imgs/8.jpg","./imgs/9.jpg","./imgs/10.jpg","./imgs/logo.svg","./imgs/no-pictures.svg"])}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith("mws-")&&!allCaches.includes(e)}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("fetch",function(e){if("only-if-cached"===e.request.cache&&"same-origin"!==e.request.mode)return;var t=new URL(e.request.url);const n=e.request.url+"index.html";if(t.origin===location.origin){if("/"===t.pathname)return void e.respondWith(servePage(e.request,n));if(t.pathname.endsWith("restaurant.html"))return void e.respondWith(serveRestuarantPage(e.request));if(t.pathname.startsWith("/imgs/"))return void e.respondWith(servePhoto(e.request))}e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request)}))}),self.addEventListener("message",function(e){"skipWaiting"===e.data.action&&self.skipWaiting()});